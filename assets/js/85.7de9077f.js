(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{444:function(t,a,e){"use strict";e.r(a);var s=e(6),n=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"templates"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#templates","aria-hidden":"true"}},[t._v("#")]),t._v(" Templates")]),t._v(" "),e("p",[t._v("Bocadillo has built-in helpers for working with "),e("a",{attrs:{href:"http://jinja.pocoo.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jinja2"),e("OutboundLink")],1),t._v(" templates. They give you all the niceties of the Jinja2 template engine: a familiar templating language, automatic escaping, template inheritance, etc.")]),t._v(" "),e("h2",{attrs:{id:"how-templates-work"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-templates-work","aria-hidden":"true"}},[t._v("#")]),t._v(" How templates work")]),t._v(" "),e("p",[t._v("To begin with, templates (when loaded from the file system) are just regular files. For example, when writing HTML templates, the regular "),e("code",[t._v(".html")]),t._v(" extension is used as for any other HTML file.")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",[t._v("Note that a template does not "),e("em",[t._v("have")]),t._v(" to be an HTML file. Any text file will do: "),e("code",[t._v(".txt")]),t._v(", "),e("code",[t._v(".md")]),t._v(", "),e("code",[t._v(".rst")]),t._v(", etc.")])]),t._v(" "),e("p",[t._v("The only difference with regular text-based formats is that templates use a "),e("strong",[t._v("templating language")]),t._v(" with a set of specific tags and keywords that allow to perform "),e("strong",[t._v("programmatic manipulations")]),t._v(". These are performed on "),e("strong",[t._v("context variables")]),t._v(" that are passed to the template when it is rendered.")]),t._v(" "),e("h2",{attrs:{id:"writing-templates"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#writing-templates","aria-hidden":"true"}},[t._v("#")]),t._v(" Writing templates")]),t._v(" "),e("p",[t._v("Bocadillo templates are powered by Jinja2 and, as such, you can use the full power of Jinja2 to write beautiful templates.")]),t._v(" "),e("p",[t._v("Here's an example HTML template:")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- index.html --\x3e")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ title }}"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ title }}"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Templates are great, aren't they?"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("p",[t._v("Here, you can see an "),e("strong",[t._v("interpolation")]),t._v(" ("),e("code",[t._v("title")]),t._v(" in double brackets). Upon rendering, it is replaced by the actual value of a context variable called "),e("code",[t._v("title")]),t._v(" that should be passed to the rendering function (see next section).")]),t._v(" "),e("p",[t._v("You may find Jinja2's "),e("a",{attrs:{href:"http://jinja.pocoo.org/docs/latest/templates/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Template Designer Documentation"),e("OutboundLink")],1),t._v(" handy as a thorough description of the Jinja2 templating language.")]),t._v(" "),e("h2",{attrs:{id:"rendering-templates"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rendering-templates","aria-hidden":"true"}},[t._v("#")]),t._v(" Rendering templates")]),t._v(" "),e("p",[t._v("You can render templates using the "),e("router-link",{attrs:{to:"/api/templates.html#templates"}},[t._v("Templates")]),t._v(" helper. A typical use case is to create and send HTML content in HTTP views.")],1),t._v(" "),e("ol",[e("li",[t._v("Create an instance of "),e("code",[t._v("Templates")]),t._v(":")])]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" bocadillo "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" App"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Templates\n\napp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" App"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntemplates "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Templates"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("Render a template using "),e("code",[t._v("templates.render()")]),t._v(". You can pass context variables as keyword arguments:")])]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("route")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("home")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" templates"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("render"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index.html"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" title"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, Bocadillo!"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("Note:")]),t._v(" "),e("ul",[e("li",[t._v("Context variables can also be given as a dictionary:")])]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" templates"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("render"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index.html"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, Bocadillo!"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("ul",[e("li",[t._v("You can render a template directly from a string:")])]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("templates"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("render_string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<h1>{{ title }}</h1>"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" title"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, Bocadillo!"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# Outputs: "<h1>Hello, Bocadillo!</h1>"')]),t._v("\n")])])]),e("h2",{attrs:{id:"how-templates-are-discovered"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-templates-are-discovered","aria-hidden":"true"}},[t._v("#")]),t._v(" How templates are discovered")]),t._v(" "),e("p",[t._v("By default, Bocadillo looks for templates in the "),e("code",[t._v("templates")]),t._v(" folder "),e("strong",[t._v("relative to the current working directory")]),t._v(" (which may be different from the directory where "),e("code",[t._v("app.py")]),t._v(" is located).")]),t._v(" "),e("p",[t._v("If you generated your project using "),e("a",{attrs:{href:"https://github.com/bocadilloproject/bocadillo-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bocadillo CLI"),e("OutboundLink")],1),t._v(", this means you should place templates in the project root directory:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(".\n├── myproject\n│   ├── __init__.py\n│   ├── app.py\n│   ├── asgi.py\n│   └── settings.py\n└── templates\n    └── index.html\n")])])]),e("h2",{attrs:{id:"changing-the-templates-location"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changing-the-templates-location","aria-hidden":"true"}},[t._v("#")]),t._v(" Changing the templates location")]),t._v(" "),e("p",[t._v("You can change the templates directory using the "),e("code",[t._v("directory")]),t._v(" argument to "),e("code",[t._v("Templates")]),t._v(". It supports paths given as strings and "),e("a",{attrs:{href:"https://docs.python.org/3/library/pathlib.html#module-pathlib",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("pathlib.Path")]),e("OutboundLink")],1),t._v(" objects.")]),t._v(" "),e("p",[t._v("For example, to load templates in the "),e("code",[t._v("templates")]),t._v(" directory relative to where the "),e("code",[t._v("app.py")]),t._v(" file is, edit "),e("code",[t._v("app.py")]),t._v(" with the following:")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# project/app.py")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pathlib "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Path\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" bocadillo "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" App"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Templates\n\napp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" App"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntemplates "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Templates"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("directory"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__file__"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"templates"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])},[],!1,null,null,null);a.default=n.exports}}]);