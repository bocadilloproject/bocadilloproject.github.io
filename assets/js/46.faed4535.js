(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{482:function(t,s,e){"use strict";e.r(s);var a=e(6),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"bocadillo-plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bocadillo-plugins","aria-hidden":"true"}},[t._v("#")]),t._v(" bocadillo.plugins")]),t._v(" "),e("h2",{attrs:{id:"use-providers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-providers","aria-hidden":"true"}},[t._v("#")]),t._v(" use_providers")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("use_providers"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("Discover and configure providers.")]),t._v(" "),e("p",[t._v("Ensures that app-scoped providers are setup on app startup, and tore down\non app shutdown.")]),t._v(" "),e("p",[t._v("Settings:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("PROVIDER_MODULES")]),t._v(" (list of str, optional):\na list of Python modules (e.g. "),e("code",[t._v("path.to.providersconf")]),t._v(") where Bocadillo\nshould look for providers.")])]),t._v(" "),e("h2",{attrs:{id:"use-allowed-hosts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-allowed-hosts","aria-hidden":"true"}},[t._v("#")]),t._v(" use_allowed_hosts")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("use_allowed_hosts"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("Restrict which hosts an application is allowed to be served at.")]),t._v(" "),e("p",[t._v("Settings:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("ALLOWED_HOSTS")]),t._v(" (list of str, optional):\na list of hosts. If the list contains "),e("code",[t._v('"*"')]),t._v(", any host is allowed.\nDefaults to "),e("code",[t._v('["*"]')]),t._v(".")])]),t._v(" "),e("h2",{attrs:{id:"use-cors"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-cors","aria-hidden":"true"}},[t._v("#")]),t._v(" use_cors")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("use_cors"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("Enable CORS (Cross-Origin Resource Sharing) headers.")]),t._v(" "),e("p",[t._v("Settings:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("CORS")]),t._v(" (bool or dict):\nif "),e("code",[t._v("True")]),t._v(", the default configuration defined in "),e("router-link",{attrs:{to:"/api/constants.html"}},[t._v("constants.py")]),t._v(" is used.\nOtherwise, the dictionary is passed to Starlette's "),e("a",{attrs:{href:"https://www.starlette.io/middleware/#corsmiddleware",target:"_blank",rel:"noopener noreferrer"}},[t._v("CORSMiddleware"),e("OutboundLink")],1),t._v(".")],1)]),t._v(" "),e("h2",{attrs:{id:"use-gzip"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-gzip","aria-hidden":"true"}},[t._v("#")]),t._v(" use_gzip")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("use_gzip"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("Enable "),e("router-link",{attrs:{to:"/guide/builtin-middleware.html#gzip"}},[t._v("GZip")]),t._v(" compression.")],1),t._v(" "),e("p",[t._v("Settings:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("GZIP")]),t._v(" (bool):\nif "),e("code",[t._v("True")]),t._v(", automatically compress responses for clients that support it.\nDefaults to "),e("code",[t._v("False")]),t._v(".")]),t._v(" "),e("li",[e("code",[t._v("GZIP_MIN_SIZE")]),t._v(" (int):\ncompress only responses that have more bytes than the specified value.\nDefaults to "),e("code",[t._v("1024")]),t._v(".")])]),t._v(" "),e("h2",{attrs:{id:"use-hsts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-hsts","aria-hidden":"true"}},[t._v("#")]),t._v(" use_hsts")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("use_hsts"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("Enable "),e("router-link",{attrs:{to:"/guide/builtin-middleware.html#hsts"}},[t._v("HSTS")]),t._v(".")],1),t._v(" "),e("p",[t._v("Settings:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("HSTS")]),t._v(" (bool):\nif "),e("code",[t._v("True")]),t._v(", HTTP traffic is automatically redirected to HTTPS.\nDefaults to "),e("code",[t._v("False")]),t._v(".")])]),t._v(" "),e("h2",{attrs:{id:"use-sessions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-sessions","aria-hidden":"true"}},[t._v("#")]),t._v(" use_sessions")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("use_sessions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("Enable cookie-based signed sessions.")]),t._v(" "),e("p",[t._v("Settings:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("SESSIONS")]),t._v(" (bool or dict):\nif "),e("code",[t._v("True")]),t._v(", the secret key is obtained from the "),e("code",[t._v("SECRET_KEY")]),t._v(" environment\nvariable. Otherwise, it must be a dictionary which will be passed\nto Starlette's "),e("a",{attrs:{href:"https://www.starlette.io/middleware/#sessionmiddleware",target:"_blank",rel:"noopener noreferrer"}},[t._v("SessionMiddleware"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),e("h2",{attrs:{id:"use-staticfiles"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-staticfiles","aria-hidden":"true"}},[t._v("#")]),t._v(" use_staticfiles")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("use_staticfiles"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("Enable static files serving with WhiteNoise.")]),t._v(" "),e("p",[t._v("Settings:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("STATIC_DIR")]),t._v(" (str):\nthe name of the directory containing static files, relative to\nthe application entry point.\nSet to "),e("code",[t._v("None")]),t._v(" to not serve any static files.\nDefaults to "),e("code",[t._v('"static"')]),t._v(".")]),t._v(" "),e("li",[e("code",[t._v("STATIC_ROOT")]),t._v(" (str):\nthe path prefix for static assets. Defaults to "),e("code",[t._v('"static"')]),t._v(".")]),t._v(" "),e("li",[e("code",[t._v("STATIC_CONFIG")]),t._v(" (dict):\nextra static files configuration attributes.\nSee also #::bocadillo.staticfiles#static.")])]),t._v(" "),e("h2",{attrs:{id:"use-typesystem-validation-error-handling"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-typesystem-validation-error-handling","aria-hidden":"true"}},[t._v("#")]),t._v(" use_typesystem_validation_error_handling")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("use_typesystem_validation_error_handling"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("Setup an error handler for "),e("code",[t._v("typesystem.ValidationError")]),t._v(".")]),t._v(" "),e("p",[t._v("This plugin allows to validate TypeSystem schemas while letting the\nframework deal with formatting and sending back a "),e("code",[t._v("400 Bad Request")]),t._v("\nerror response in case of invalid data.")]),t._v(" "),e("p",[t._v("Settings:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("HANDLE_TYPESYSTEM_VALIDATION_ERRORS")]),t._v(" (bool):\nSet to "),e("code",[t._v("False")]),t._v(" to disable this plugin. Defaults to "),e("code",[t._v("True")]),t._v(".")])])])},[],!1,null,null,null);s.default=n.exports}}]);