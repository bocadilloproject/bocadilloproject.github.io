(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{471:function(t,e,a){"use strict";a.r(e);var s=a(6),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"bocadillo-testing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bocadillo-testing","aria-hidden":"true"}},[t._v("#")]),t._v(" bocadillo.testing")]),t._v(" "),a("h2",{attrs:{id:"create-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-client","aria-hidden":"true"}},[t._v("#")]),t._v(" create_client")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("create_client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" starlette"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("testclient"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TestClient\n")])])]),a("p",[t._v("Create a "),a("a",{attrs:{href:"https://www.starlette.io/testclient/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Starlette Test Client"),a("OutboundLink")],1),t._v(" out of an application.")]),t._v(" "),a("p",[a("strong",[t._v("Parameters")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("app")]),t._v(": an #::bocadillo.applications#App instance.")]),t._v(" "),a("li",[a("strong",[t._v("**kwargs (any)")]),t._v(": keyword arguments passed to the "),a("code",[t._v("TestClient")]),t._v(" constructor.")])]),t._v(" "),a("p",[a("strong",[t._v("Returns")])]),t._v(" "),a("p",[a("code",[t._v("client (TestClient)")]),t._v(": a Starlette test client.")]),t._v(" "),a("h2",{attrs:{id:"liveserver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#liveserver","aria-hidden":"true"}},[t._v("#")]),t._v(" LiveServer")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("LiveServer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ready_timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stop_timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Context manager to spin up a live uvicorn server in a separate process.")]),t._v(" "),a("p",[t._v("The server process is terminated when exiting the context.")]),t._v(" "),a("p",[a("strong",[t._v("Parameters")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("app")]),t._v(": an #::bocadillo.applications#App instance.")]),t._v(" "),a("li",[a("strong",[t._v("ready_timeout (float)")]),t._v(":\nThe maximum time to wait for the live server to be ready to handle\nconnections, in seconds.\nDefaults to 5.")]),t._v(" "),a("li",[a("strong",[t._v("stop_timeout (float)")]),t._v(":\nThe maximum time to wait for the live server to terminate, in seconds.\nDefaults to 5.")]),t._v(" "),a("li",[a("strong",[t._v("**kwargs (any)")]),t._v(":\nkeyword arguments passed to "),a("code",[t._v("uvicorn.run()")]),t._v(".\n"),a("code",[t._v("host")]),t._v(" defaults to "),a("code",[t._v('"127.0.0.1."')]),t._v(" (i.e. "),a("code",[t._v("localhost")]),t._v(").\n"),a("code",[t._v("port")]),t._v(" defaults to a random integer between 3000 and 9999.")])]),t._v(" "),a("p",[a("strong",[t._v("Attributes")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("url (str)")]),t._v(":\nthe full URL where the server lives.\nBuild a full URL by calling this attribute,\ne.g. "),a("code",[t._v('server.url("/path/foo")')]),t._v(".")])])])},[],!1,null,null,null);e.default=n.exports}}]);