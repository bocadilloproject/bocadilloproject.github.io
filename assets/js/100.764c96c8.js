(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{432:function(e,t,a){"use strict";a.r(t);var s=a(6),r=Object(s.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#upgrade-instructions"}},[e._v("Upgrade instructions")])]),a("li",[a("a",{attrs:{href:"#providers-dependency-injection-for-web-views"}},[e._v("Providers: dependency injection for web views")]),a("ul",[a("li",[a("a",{attrs:{href:"#hello-providers"}},[e._v("Hello, providers!")])]),a("li",[a("a",{attrs:{href:"#motivation-and-design"}},[e._v("Motivation and design")])]),a("li",[a("a",{attrs:{href:"#next-steps"}},[e._v("Next steps")])])])]),a("li",[a("a",{attrs:{href:"#server-sent-event-support"}},[e._v("Server-Sent Event support")])]),a("li",[a("a",{attrs:{href:"#cookie-based-sessions"}},[e._v("Cookie-based sessions")])]),a("li",[a("a",{attrs:{href:"#testing-utilities"}},[e._v("Testing utilities")])]),a("li",[a("a",{attrs:{href:"#chatbot-tutorial"}},[e._v("Chatbot tutorial")])]),a("li",[a("a",{attrs:{href:"#miscellaneous"}},[e._v("Miscellaneous")]),a("ul",[a("li",[a("a",{attrs:{href:"#middleware-improvements"}},[e._v("Middleware improvements")])]),a("li",[a("a",{attrs:{href:"#streaming"}},[e._v("Streaming")])])])])])]),a("p"),e._v(" "),a("h2",{attrs:{id:"upgrade-instructions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-instructions","aria-hidden":"true"}},[e._v("#")]),e._v(" Upgrade instructions")]),e._v(" "),a("p",[e._v("This release removes items that were deprecated by the 0.12.0 release:")]),e._v(" "),a("ul",[a("li",[e._v("The "),a("code",[e._v("API")]),e._v(" class no longer exists — use "),a("a",{attrs:{href:"https://bocadilloproject.github.io/api/applications.html#app",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("App")]),a("OutboundLink")],1),e._v(" instead!")]),e._v(" "),a("li",[a("code",[e._v("App")]),e._v(" instances no longer have the "),a("code",[e._v(".template()")]),e._v(", "),a("code",[e._v(".template_sync()")]),e._v(" and "),a("code",[e._v(".template_string()")]),e._v(" methods. Instead, use the "),a("a",{attrs:{href:"https://bocadilloproject.github.io/api/templates.html#templates",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Templates")]),a("OutboundLink")],1),e._v(" helper.")])]),e._v(" "),a("p",[e._v("All 0.12.x releases are compatible with these new APIs. If you're not up to date yet, I recommend you update your apps while staying under 0.12.x, and only then upgrade to 0.13.")]),e._v(" "),a("p",[e._v("Once you're ready to upgrade, you can grab the new version from "),a("a",{attrs:{href:"https://pypi.org/project/bocadillo/0.13.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("PyPI"),a("OutboundLink")],1),e._v(":")]),e._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[e._v("pip install "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("U bocadillo\n")])])]),a("p",[e._v("If you have any questions, feel free to "),a("a",{attrs:{href:"https://bocadilloproject.github.io/faq.html#getting-in-touch",target:"_blank",rel:"noopener noreferrer"}},[e._v("get in touch"),a("OutboundLink")],1),e._v("!")]),e._v(" "),a("h2",{attrs:{id:"providers-dependency-injection-for-web-views"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#providers-dependency-injection-for-web-views","aria-hidden":"true"}},[e._v("#")]),e._v(" Providers: dependency injection for web views")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://bocadilloproject.github.io/guides/injection/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Providers"),a("OutboundLink")],1),e._v(" is a new powerful dependency injection mechanism baked right into Bocadillo.")]),e._v(" "),a("p",[e._v("What they allow to do is "),a("strong",[e._v("inject resources into web views")]),e._v(". This is done by declaring providers as function parameters, much in the style of "),a("a",{attrs:{href:"https://docs.pytest.org/en/latest/fixture.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("pytest fixtures"),a("OutboundLink")],1),e._v(". 🙌")]),e._v(" "),a("p",[e._v("Besides being very easy to use, I think that providers:")]),e._v(" "),a("ul",[a("li",[e._v("Help build applications that are "),a("strong",[e._v("easy to test, change and maintain")]),e._v(".")]),e._v(" "),a("li",[e._v("Make the development experience much more enjoyable.")])]),e._v(" "),a("p",[e._v("They're quite a big deal, so let's review them more in depth, shall we?")]),e._v(" "),a("h3",{attrs:{id:"hello-providers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hello-providers","aria-hidden":"true"}},[e._v("#")]),e._v(" Hello, providers!")]),e._v(" "),a("p",[e._v('Here\'s the mandatory "Hello, world" example:')]),e._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# providerconf.py")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" bocadillo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" provider\n\n@provider\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("def")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("hello")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Hello, world!"')]),e._v("\n")])])]),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# app.py")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" bocadillo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" App\n\napp "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n@app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("async")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("def")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" hello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# <- ✨")]),e._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("text "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" hello\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("==")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("h3",{attrs:{id:"motivation-and-design"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#motivation-and-design","aria-hidden":"true"}},[e._v("#")]),e._v(" Motivation and design")]),e._v(" "),a("p",[e._v("Up to now, there was no elegant way to abstract logic into reusable services without resorting to global variables or similar hacks. This often led to cluttered, hard-to-test code, and ultimately impaired the usability of Bocadillo as a web framework.")]),e._v(" "),a("p",[e._v("To solve this, providers were designed to be:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Explicit")]),e._v(": it's clear which views use which resources.")]),e._v(" "),a("li",[a("strong",[e._v("Modular")]),e._v(": providers can use other providers, allowing to build an ecosystem of reusable components.")]),e._v(" "),a("li",[a("strong",[e._v("Flexible")]),e._v(": providers support a variety of syntaxes (sync/async, function/generator) and scopes (request or app), making them suitable for a wide range of use cases.")])]),e._v(" "),a("p",[e._v("Besides, providers can be overridden at anytime, thus improving testability.")]),e._v(" "),a("p",[e._v("We extracted the core of this feature into "),a("a",{attrs:{href:"https://github.com/bocadilloproject/aiodine",target:"_blank",rel:"noopener noreferrer"}},[e._v("aiodine"),a("OutboundLink")],1),e._v(", an async-first dependency injection library. Be sure to check it out!")]),e._v(" "),a("h3",{attrs:{id:"next-steps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#next-steps","aria-hidden":"true"}},[e._v("#")]),e._v(" Next steps")]),e._v(" "),a("p",[e._v("Providers are a major addition to Bocadillo indeed, and quite a unique feature in the Python web framework space! If you can't wait to try them out, head to the docs: "),a("a",{attrs:{href:"https://bocadilloproject.github.io/guides/injection/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Introduction to providers"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"server-sent-event-support"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server-sent-event-support","aria-hidden":"true"}},[e._v("#")]),e._v(" Server-Sent Event support")]),e._v(" "),a("p",[e._v("You may already be familiar with WebSocket — Bocadillo has had built-in support for them since v0.9.")]),e._v(" "),a("p",[e._v("This release pushes the real-time capabilities of Bocadillo even further by introducing support for "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events",target:"_blank",rel:"noopener noreferrer"}},[e._v("Server-Sent Events"),a("OutboundLink")],1),e._v(". This technique can be used to cheaply stream events from the server to the client, and build systems such as notifications or live-updating feeds.")]),e._v(" "),a("p",[e._v("Because this builds upon "),a("a",{attrs:{href:"https://bocadilloproject.github.io/guides/http/responses.html#streaming",target:"_blank",rel:"noopener noreferrer"}},[e._v("response streaming"),a("OutboundLink")],1),e._v(", you can very easily obtain those events from an external source — such as a "),a("a",{attrs:{href:"https://github.com/Polyconseil/aioamqp",target:"_blank",rel:"noopener noreferrer"}},[e._v("message queue"),a("OutboundLink")],1),e._v(" or a "),a("a",{attrs:{href:"https://github.com/aio-libs/aiokafka",target:"_blank",rel:"noopener noreferrer"}},[e._v("message broker"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Everything you need to know is in the "),a("a",{attrs:{href:"https://bocadilloproject.github.io/guides/http/sse.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("SSE usage guide"),a("OutboundLink")],1),e._v(", but here's a sneak peak to get you going:")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" datetime "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" datetime\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" asyncio "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" sleep\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" bocadillo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" server_event\n\napp "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n\n@app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/clock"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("async")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("def")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("clock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    @res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("event_stream\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("async")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("def")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("stream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("while")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n            millis "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1000")]),e._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("yield")]),e._v(" server_event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("millis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("await")]),e._v(" sleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n\n@app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("async")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("def")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("html "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[e._v('"""\n        <html>\n        <head><meta charset="utf-8"/></head>\n        <body>\n            <h1>⏱ SSE-powered Clock</h1>\n            <div id="time"></div>\n            <script>\n                const counter = new EventSource("/clock");\n                const time = document.getElementById("time");\n                counter.onmessage = (e) => {\n                    time.innerText = new Date(+e.data).toString();\n                };\n            <\/script>\n        </body>\n    </html>\n    """')]),e._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("==")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("h2",{attrs:{id:"cookie-based-sessions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie-based-sessions","aria-hidden":"true"}},[e._v("#")]),e._v(" Cookie-based sessions")]),e._v(" "),a("p",[e._v("Signed cookie-based sessions have landed in Bocadillo! Thanks a lot to "),a("a",{attrs:{href:"https://github.com/bocadilloproject/bocadillo/pull/211",target:"_blank",rel:"noopener noreferrer"}},[e._v("@zgoda"),a("OutboundLink")],1),e._v(" for helping bring this feature in.")]),e._v(" "),a("p",[e._v("Sessions allow you to persist data between requests from a given client. You can find an example as well as usage tips in the new "),a("a",{attrs:{href:"https://bocadilloproject.github.io/guides/http/sessions.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sessions guide"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"testing-utilities"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#testing-utilities","aria-hidden":"true"}},[e._v("#")]),e._v(" Testing utilities")]),e._v(" "),a("p",[e._v("This release brings in new testing utilities that you can use to ensure the quality of your Bocadillo applications: "),a("a",{attrs:{href:"https://bocadilloproject.github.io/api/testing.html#create-client",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("create_client")]),a("OutboundLink")],1),e._v(" and "),a("a",{attrs:{href:"https://bocadilloproject.github.io/api/testing.html#liveserver",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("LiveServer")]),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("We also wrote a brand new "),a("a",{attrs:{href:"https://bocadilloproject.github.io/guides/architecture/testing.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Testing guide"),a("OutboundLink")],1),e._v(" as well as a "),a("a",{attrs:{href:"https://bocadilloproject.github.io/how-to/test-pytest.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("pytest how-to guide"),a("OutboundLink")],1),e._v(" to help you get started with Bocadillo testing! ✅")]),e._v(" "),a("h2",{attrs:{id:"chatbot-tutorial"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chatbot-tutorial","aria-hidden":"true"}},[e._v("#")]),e._v(" Chatbot tutorial")]),e._v(" "),a("p",[e._v('To showcase the real-time capabilities of Bocadillo as well as the new providers feature, the "Getting started" section of the docs got an overhaul.')]),e._v(" "),a("p",[e._v("In particular, there's a brand new "),a("a",{attrs:{href:"https://bocadilloproject.github.io/getting-started/tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("tutorial"),a("OutboundLink")],1),e._v(". There, you'll learn how to build a chatbot server using "),a("a",{attrs:{href:"https://chatterbot.readthedocs.io/en/stable/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ChatterBot"),a("OutboundLink")],1),e._v(" and WebSocket. 🤖")]),e._v(" "),a("h2",{attrs:{id:"miscellaneous"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#miscellaneous","aria-hidden":"true"}},[e._v("#")]),e._v(" Miscellaneous")]),e._v(" "),a("h3",{attrs:{id:"middleware-improvements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#middleware-improvements","aria-hidden":"true"}},[e._v("#")]),e._v(" Middleware improvements")]),e._v(" "),a("ul",[a("li",[e._v("The new "),a("a",{attrs:{href:"https://bocadilloproject.github.io/how-to/middleware.html#using-the-asgimiddleware-base-class",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("ASGIMiddleware")]),a("OutboundLink")],1),e._v(" base class streamlines the writing of ASGI middleware.")]),e._v(" "),a("li",[e._v("HTTP middleware classes can now expect both the "),a("code",[e._v("inner")]),e._v(" middleware "),a("em",[e._v("and")]),e._v(" the "),a("code",[e._v("app")]),e._v(" instance to be passed to the constructor, instead of only "),a("code",[e._v("inner")]),e._v(". This allows to perform initialisation on the "),a("code",[e._v("app")]),e._v(" by overriding the constructor. The same goes for the new "),a("code",[e._v("ASGIMiddleware")]),e._v(" base class. See "),a("a",{attrs:{href:"https://bocadilloproject.github.io/how-to/middleware.html#configuration-and-initialization",target:"_blank",rel:"noopener noreferrer"}},[e._v("Configuration and initialization"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("li",[e._v("Fix: ASGI middleware is now properly applied even when the request is routed to a sub-application (e.g. a recipe). In the past, this could lead to CORS headers not being added on a recipe despite them being configured on the root application.")])]),e._v(" "),a("h3",{attrs:{id:"streaming"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#streaming","aria-hidden":"true"}},[e._v("#")]),e._v(" Streaming")]),e._v(" "),a("ul",[a("li",[e._v("Fix: stream responses (and SSE streams by extension) now stop as soon as a client disconnects.")])])])},[],!1,null,null,null);t.default=r.exports}}]);