<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Routing | Bocadillo</title>
    <meta name="description" content="Fast, scalable and real-time capable web APIs for everyone: Bocadillo is a Python asynchronous web framework built with productivity and modularity in mind.">
    <link rel="stylesheet" href="/octicons.css">
  <link rel="shortcut icon" href="/favicon.ico?v=lk90Ny5lbz">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=lk90Ny5lbz">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=lk90Ny5lbz">
  <link rel="manifest" href="/site.webmanifest?v=lk90Ny5lbz">
  <meta name="theme-color" content="#ffe66b">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=lk90Ny5lbz">
  <link rel="mask-icon" href="/safari-pinned-tab.svg?v=lk90Ny5lbz" color="#91ba3f">
  <meta name="msapplication-TileColor" content="#ef9a4d">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://bocadilloproject.github.io">
  <meta name="twitter:title" content="Bocadillo">
  <meta name="twitter:site" content="@bocadillopy">
  <meta name="twitter:creator" content="Florimond Manca">
  <meta name="twitter:description" content="Fast, scalable and real-time capable web APIs for everyone: Bocadillo is a Python asynchronous web framework built with productivity and modularity in mind.">
  <meta name="twitter:image" content="https://bocadilloproject.github.io/logo.png">
  <meta name="google-site-verification" content="xbJzBKn7IuLWAUKvqHo1c3vMelw3eTRL0k3JcKjYB_k">
    
    <link rel="preload" href="/assets/css/0.styles.1610f5ec.css" as="style"><link rel="preload" href="/assets/js/app.ef5a74fe.js" as="script"><link rel="preload" href="/assets/js/2.741e5c13.js" as="script"><link rel="preload" href="/assets/js/22.60c6ec4e.js" as="script"><link rel="preload" href="/assets/js/81.8dfcf1f4.js" as="script"><link rel="preload" href="/assets/js/23.fecdc752.js" as="script"><link rel="prefetch" href="/assets/js/1.28623c5a.js"><link rel="prefetch" href="/assets/js/10.9e1006c4.js"><link rel="prefetch" href="/assets/js/100.764c96c8.js"><link rel="prefetch" href="/assets/js/101.79200541.js"><link rel="prefetch" href="/assets/js/102.2e1407e3.js"><link rel="prefetch" href="/assets/js/103.7830dd4a.js"><link rel="prefetch" href="/assets/js/104.52455b7e.js"><link rel="prefetch" href="/assets/js/105.fa552a9f.js"><link rel="prefetch" href="/assets/js/106.81313cd4.js"><link rel="prefetch" href="/assets/js/11.bdeaccad.js"><link rel="prefetch" href="/assets/js/12.fea470ff.js"><link rel="prefetch" href="/assets/js/13.39d7df02.js"><link rel="prefetch" href="/assets/js/14.c9927eee.js"><link rel="prefetch" href="/assets/js/15.87e26629.js"><link rel="prefetch" href="/assets/js/16.6281a5f1.js"><link rel="prefetch" href="/assets/js/17.3dc8666b.js"><link rel="prefetch" href="/assets/js/18.b93d182a.js"><link rel="prefetch" href="/assets/js/19.8093f59d.js"><link rel="prefetch" href="/assets/js/20.f6778ebc.js"><link rel="prefetch" href="/assets/js/21.83002d33.js"><link rel="prefetch" href="/assets/js/24.6ab6ed9a.js"><link rel="prefetch" href="/assets/js/25.3476451e.js"><link rel="prefetch" href="/assets/js/26.be460c24.js"><link rel="prefetch" href="/assets/js/27.78500487.js"><link rel="prefetch" href="/assets/js/28.df3b3176.js"><link rel="prefetch" href="/assets/js/29.171eca5b.js"><link rel="prefetch" href="/assets/js/30.27a29de9.js"><link rel="prefetch" href="/assets/js/31.c1e5ed6c.js"><link rel="prefetch" href="/assets/js/32.43e6bd89.js"><link rel="prefetch" href="/assets/js/33.47234724.js"><link rel="prefetch" href="/assets/js/34.8f883d10.js"><link rel="prefetch" href="/assets/js/35.886bf2d6.js"><link rel="prefetch" href="/assets/js/36.d74a4b45.js"><link rel="prefetch" href="/assets/js/37.5f147823.js"><link rel="prefetch" href="/assets/js/38.6882e29b.js"><link rel="prefetch" href="/assets/js/39.b016911e.js"><link rel="prefetch" href="/assets/js/4.9e306066.js"><link rel="prefetch" href="/assets/js/40.2fc0e4ef.js"><link rel="prefetch" href="/assets/js/41.3f8233d4.js"><link rel="prefetch" href="/assets/js/42.bb51a16e.js"><link rel="prefetch" href="/assets/js/43.64c511ad.js"><link rel="prefetch" href="/assets/js/44.2fd79fd9.js"><link rel="prefetch" href="/assets/js/45.ef1889bb.js"><link rel="prefetch" href="/assets/js/46.faed4535.js"><link rel="prefetch" href="/assets/js/47.c5a1fd71.js"><link rel="prefetch" href="/assets/js/48.3f137c5f.js"><link rel="prefetch" href="/assets/js/49.107fe3f3.js"><link rel="prefetch" href="/assets/js/5.6d0d80f9.js"><link rel="prefetch" href="/assets/js/50.16babc94.js"><link rel="prefetch" href="/assets/js/51.a761ac95.js"><link rel="prefetch" href="/assets/js/52.b3da75d6.js"><link rel="prefetch" href="/assets/js/53.cb224ef5.js"><link rel="prefetch" href="/assets/js/54.5fd0de3b.js"><link rel="prefetch" href="/assets/js/55.c68c0838.js"><link rel="prefetch" href="/assets/js/56.b86c9cfc.js"><link rel="prefetch" href="/assets/js/57.9a875cd5.js"><link rel="prefetch" href="/assets/js/58.d25974a5.js"><link rel="prefetch" href="/assets/js/59.4229b9d5.js"><link rel="prefetch" href="/assets/js/6.9de27215.js"><link rel="prefetch" href="/assets/js/60.190f9994.js"><link rel="prefetch" href="/assets/js/61.a6787cb1.js"><link rel="prefetch" href="/assets/js/62.55269a82.js"><link rel="prefetch" href="/assets/js/63.d16c0a81.js"><link rel="prefetch" href="/assets/js/64.de71f4d5.js"><link rel="prefetch" href="/assets/js/65.ec533d3e.js"><link rel="prefetch" href="/assets/js/66.3ca3058a.js"><link rel="prefetch" href="/assets/js/67.8f39d473.js"><link rel="prefetch" href="/assets/js/68.5f1bfdf2.js"><link rel="prefetch" href="/assets/js/69.8a5ee484.js"><link rel="prefetch" href="/assets/js/7.baf0b149.js"><link rel="prefetch" href="/assets/js/70.cae2620c.js"><link rel="prefetch" href="/assets/js/71.88c976be.js"><link rel="prefetch" href="/assets/js/72.0608759c.js"><link rel="prefetch" href="/assets/js/73.30825c52.js"><link rel="prefetch" href="/assets/js/74.f3a4653a.js"><link rel="prefetch" href="/assets/js/75.f076bac4.js"><link rel="prefetch" href="/assets/js/76.b9cf5ea6.js"><link rel="prefetch" href="/assets/js/77.664fe172.js"><link rel="prefetch" href="/assets/js/78.bb705f3f.js"><link rel="prefetch" href="/assets/js/79.755a16c1.js"><link rel="prefetch" href="/assets/js/8.1430bdec.js"><link rel="prefetch" href="/assets/js/80.3b3c943c.js"><link rel="prefetch" href="/assets/js/82.e0d8b8bf.js"><link rel="prefetch" href="/assets/js/83.8e788d4e.js"><link rel="prefetch" href="/assets/js/84.e62a4140.js"><link rel="prefetch" href="/assets/js/85.7de9077f.js"><link rel="prefetch" href="/assets/js/86.36b0b794.js"><link rel="prefetch" href="/assets/js/87.88eaed47.js"><link rel="prefetch" href="/assets/js/88.12e8bfee.js"><link rel="prefetch" href="/assets/js/89.79671657.js"><link rel="prefetch" href="/assets/js/9.fff42a24.js"><link rel="prefetch" href="/assets/js/90.7770f14c.js"><link rel="prefetch" href="/assets/js/91.34595596.js"><link rel="prefetch" href="/assets/js/92.d0e2a53f.js"><link rel="prefetch" href="/assets/js/93.0dd1d80f.js"><link rel="prefetch" href="/assets/js/94.224315b4.js"><link rel="prefetch" href="/assets/js/95.6a720b9e.js"><link rel="prefetch" href="/assets/js/96.f8e2cc61.js"><link rel="prefetch" href="/assets/js/97.6ace73bc.js"><link rel="prefetch" href="/assets/js/98.3851eb39.js"><link rel="prefetch" href="/assets/js/99.4f065790.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1610f5ec.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Bocadillo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/how-to/" class="nav-link">How-To</a></div><div class="nav-item"><a href="/discussions/" class="nav-link">Discussions</a></div><div class="nav-item"><a href="/api/" class="nav-link">Reference</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Ecosystem</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Tooling</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/bocadilloproject/bocadillo-cli" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bocadillo CLI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>Help</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/faq.html" class="nav-link">FAQ</a></li><li class="dropdown-subitem"><a href="/troubleshooting.html" class="nav-link">Troubleshooting</a></li></ul></li><li class="dropdown-item"><h4>News</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://twitter.com/bocadillopy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/news/" class="nav-link">News</a></li><li class="dropdown-subitem"><a href="/mentions.html" class="nav-link">Mentions</a></li></ul></li><li class="dropdown-item"><h4>Resources</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/bocadilloproject/bocadillo/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://pypi.org/project/bocadillo/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PyPI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://github.com/bocadilloproject" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Official repos
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <a href="https://github.com/bocadilloproject/bocadillo" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/how-to/" class="nav-link">How-To</a></div><div class="nav-item"><a href="/discussions/" class="nav-link">Discussions</a></div><div class="nav-item"><a href="/api/" class="nav-link">Reference</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Ecosystem</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Tooling</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/bocadilloproject/bocadillo-cli" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bocadillo CLI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>Help</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/faq.html" class="nav-link">FAQ</a></li><li class="dropdown-subitem"><a href="/troubleshooting.html" class="nav-link">Troubleshooting</a></li></ul></li><li class="dropdown-item"><h4>News</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://twitter.com/bocadillopy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/news/" class="nav-link">News</a></li><li class="dropdown-subitem"><a href="/mentions.html" class="nav-link">Mentions</a></li></ul></li><li class="dropdown-item"><h4>Resources</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/bocadilloproject/bocadillo/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://pypi.org/project/bocadillo/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PyPI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://github.com/bocadilloproject" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Official repos
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <a href="https://github.com/bocadilloproject/bocadillo" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/guide/" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Essentials</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/apps.html" class="sidebar-link">Applications</a></li><li><a href="/guide/config.html" class="sidebar-link">Configuration</a></li><li><a href="/guide/routing.html" class="active sidebar-link">Routing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/routing.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/guide/routing.html#how-are-requests-processed" class="sidebar-link">How are requests processed?</a></li><li class="sidebar-sub-header"><a href="/guide/routing.html#routes-examples" class="sidebar-link">Routes examples</a></li><li class="sidebar-sub-header"><a href="/guide/routing.html#function-based-views" class="sidebar-link">Function-based views</a></li><li class="sidebar-sub-header"><a href="/guide/routing.html#class-based-views" class="sidebar-link">Class-based views</a></li><li class="sidebar-sub-header"><a href="/guide/routing.html#http-methods" class="sidebar-link">HTTP methods</a></li><li class="sidebar-sub-header"><a href="/guide/routing.html#route-parameters" class="sidebar-link">Route parameters</a></li><li class="sidebar-sub-header"><a href="/guide/routing.html#validation-and-conversion" class="sidebar-link">Validation and conversion</a></li><li class="sidebar-sub-header"><a href="/guide/routing.html#query-parameters" class="sidebar-link">Query parameters</a></li><li class="sidebar-sub-header"><a href="/guide/routing.html#wildcard-matching" class="sidebar-link">Wildcard matching</a></li><li class="sidebar-sub-header"><a href="/guide/routing.html#path-like-route-parameters" class="sidebar-link">Path-like route parameters</a></li><li class="sidebar-sub-header"><a href="/guide/routing.html#redirecting" class="sidebar-link">Redirecting</a></li></ul></li><li><a href="/guide/requests.html" class="sidebar-link">Requests</a></li><li><a href="/guide/responses.html" class="sidebar-link">Responses</a></li><li><a href="/guide/errors.html" class="sidebar-link">Error handling</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Built-in features</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Real-Time Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reusability &amp; Modularity</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tooling</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="content deprecation-warning" style="margin:1rem;margin-top:4.6rem;" data-v-b1b05e82><p data-v-b1b05e82><strong data-v-b1b05e82>Warning:</strong> Bocadillo is now <strong data-v-b1b05e82>UNMAINTAINED</strong>.
    Users are recommended to migrate to a supported alternative, such as
    <a href="https://www.starlette.io" target="_blank" rel="noreferrer" data-v-b1b05e82>Starlette</a>
    or
    <a href="https://fastapi.tiangolo.com" target="_blank" rel="noreferrer" data-v-b1b05e82>FastAPI</a>. Please see
    <a href="https://github.com/bocadilloproject/bocadillo/issues/334" target="_blank" rel="noreferrer" data-v-b1b05e82>#344</a>
    for more information.
  </p></div> <div class="theme-default-content content__default"><h1 id="routing"><a href="#routing" aria-hidden="true" class="header-anchor">#</a> Routing</h1> <p>Bocadillo makes it very easy to handle HTTP requests, i.e. mapping URL patterns to views.</p> <h2 id="overview"><a href="#overview" aria-hidden="true" class="header-anchor">#</a> Overview</h2> <p>In Bocadillo, <strong>routes</strong> map an <strong>URL pattern</strong> to a <strong>view</strong>, which can be a function or a class. When an application receives a request, its router invokes the view for the matching route which generates the response.</p> <h2 id="how-are-requests-processed"><a href="#how-are-requests-processed" aria-hidden="true" class="header-anchor">#</a> How are requests processed?</h2> <p>When an inbound HTTP request hits your Bocadillo application, the following algorithm is used to determine which view gets executed:</p> <ol><li>Bocadillo runs through each URL pattern and stops at the first matching one, extracting the raw route parameters as well. If none can be found, an <code>HTTPError(404)</code> is raised.</li> <li>Bocadillo checks that the matching route supports the requested HTTP method, and raises an <code>HTTPError(405)</code> exception if it does not.</li> <li>When this is done, Bocadillo calls the view attached to the route. If any of the route parameters fails validation, an <code>HTTPError(400)</code> exception is raised.</li> <li>If no pattern matches, or if an exception is raised in the process, Bocadillo invokes an appropriate error handler (see <a href="#route-error-handling">Route error handling</a> below).</li></ol> <p>The router searches against the requested <strong>URL path</strong>. This does not include the domain name nor query parameters.</p> <h3 id="about-trailing-slashes"><a href="#about-trailing-slashes" aria-hidden="true" class="header-anchor">#</a> About trailing slashes <span class="badge warn" style="vertical-align:top;" data-v-c13ee5b0>Advanced</span></h3> <p>When no route matches the requested URL path, and the URL path does not contain a trailing slash, Bocadillo will add it and send a temporary redirect (302) response. The client will then automatically perform a new request, and the routing algorithm starts again.</p> <p>For example, if <code>/items</code> did not match any route, the client will be redirected to <code>/items/</code>. If no route matches <code>/items/</code>, an <code>HTTPError(404)</code> exception is raised.</p> <div class="warning custom-block"><p>Please note that when this happen, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS/Errors/CORSExternalRedirectNotAllowed" target="_blank" rel="noopener noreferrer">CORS pre-flight requests will fail<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. For this reason, make sure to use a trailing slash when requesting your Bocadillo API from a web browser.</p></div> <p>To disable this behavior, use the <code>REDIRECT_TRAILING_SLASH</code> setting:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># settings.py</span>
REDIRECT_TRAILING_SLASH <span class="token operator">=</span> <span class="token boolean">False</span>
</code></pre></div><h2 id="routes-examples"><a href="#routes-examples" aria-hidden="true" class="header-anchor">#</a> Routes examples</h2> <p>Here are a few example routes:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> bocadillo <span class="token keyword">import</span> App

app <span class="token operator">=</span> App<span class="token punctuation">(</span><span class="token punctuation">)</span>

@app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">home</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

@app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">&quot;/items/42&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get_item_42</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

@app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">&quot;/items/{pk}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get_items</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> pk<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
</code></pre></div><p>Note that:</p> <ul><li>An URL pattern should start with a leading slash.</li> <li>Bocadillo honors the presence or absence of a trailing slash on the URL. It will not perform any redirection by default.</li> <li>Route parameters are passed as keyword arguments to the view.</li></ul> <p>Here's how a few example requests would be handled:</p> <table><thead><tr><th>Requested URL path</th> <th>Matched route</th> <th>Reason</th></tr></thead> <tbody><tr><td><code>/</code></td> <td><code>home()</code></td> <td>Only matching route.</td></tr> <tr><td><code>/items/13</code></td> <td><code>get_items()</code></td> <td>Only matching route.</td></tr> <tr><td><code>/items/42</code></td> <td><code>get_item_42()</code></td> <td>First route to match.</td></tr> <tr><td><code>/items/foo</code></td> <td>None</td> <td><code>get_items()</code> requires <code>pk</code> to be an integer.</td></tr> <tr><td><code>/items/13/detail</code></td> <td>None</td> <td>No matching route*.</td></tr></tbody></table> <p><em>* Route parameters search in individual URL parts. If you want to match entire sections of the URL, see <a href="#path-like-route-parameters">Path-like route parameters</a>.</em></p> <h2 id="function-based-views"><a href="#function-based-views" aria-hidden="true" class="header-anchor">#</a> Function-based views</h2> <p>A route maps an URL pattern to a <strong>view</strong>. A view consists in an <strong>asynchronous function</strong> that takes as input the request (<code>req</code> by convention), the response (<code>res</code> by convention), and any keyword arguments obtained from route or query parameters (more on this in the next sections).</p> <p>We've already used function-based views in the examples above. One thing to remember is that <strong>views must be asynchronous</strong>, i.e. defined with the <code>async def</code> syntax. This allows you to call arbitrary async code in views, e.g.:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> asyncio

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">find_post_content</span><span class="token punctuation">(</span>slug<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
    <span class="token keyword">await</span> asyncio<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># perhaps query a database here?</span>
    <span class="token keyword">return</span> <span class="token string">&quot;My awesome post&quot;</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/post/{slug}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">retrieve_post</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> slug<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token keyword">await</span> find_post_content<span class="token punctuation">(</span>slug<span class="token punctuation">)</span>
</code></pre></div><h2 id="class-based-views"><a href="#class-based-views" aria-hidden="true" class="header-anchor">#</a> Class-based views</h2> <p>Bocadillo also supports <strong>class-based views</strong>. Incoming requests get dispatched to the method on the class named after the requested HTTP method. For example, <code>GET</code> is dispatched to <code>.get()</code>, <code>POST</code> is dispatched to <code>.post()</code>, etc. Thanks to this mechanism, there is no base class — just write regular Python classes!</p> <p>Here's an example route using class-based view:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Home</span><span class="token punctuation">:</span>
    <span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">:</span>
        res<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">'Classes, oh my!'</span>

    <span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">post</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">:</span>
        res<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">'Roger that'</span>
</code></pre></div><p>If the <code>.handle()</code> method is implemented, all incoming requests are dispatched to it regardless of their HTTP method:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Home</span><span class="token punctuation">:</span>
    <span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">handle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">:</span>
        res<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">'Post it, get it, put it, delete it.'</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">IMPLEMENTATION DETAILS</p> <p>Bocadillo actually has a <a href="/api/views.html#view"><code>View</code></a> base class, but you don't need to subclass it when building class-based views. It only exists as a unique representation to which function- and class-based views are internally converted to.</p></div> <h2 id="http-methods"><a href="#http-methods" aria-hidden="true" class="header-anchor">#</a> HTTP methods</h2> <p>Which HTTP methods are exposed on a route depends on the view function or class.</p> <p>On class-based views, HTTP methods are exposed based on the class' methods. For example, the POST method is accepted if and only if the view implements <code>.post()</code>.</p> <p>On function-based views, you can use the case-insensitive <code>methods</code> argument to <code>@.route()</code>:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/items&quot;</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">create_item</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># ...</span>
    res<span class="token punctuation">.</span>status_code <span class="token operator">=</span> <span class="token number">201</span>
</code></pre></div><p>If <code>methods</code> is not given, only safe HTTP methods are exposed, i.e. <code>GET</code> and <code>HEAD</code>.</p> <p>When a non-allowed HTTP method is requested by a client, a <code>405 Not Allowed</code> error response is automatically returned.</p> <div class="tip custom-block"><p>Bocadillo automatically implements the <code>HEAD</code> method if your route supports <code>GET</code>.</p> <p>We do this to allow URL checkers and web crawlers to examine endpoints without transferring the full request body.</p></div> <h2 id="route-parameters"><a href="#route-parameters" aria-hidden="true" class="header-anchor">#</a> Route parameters</h2> <p>Route parameters allow a single URL pattern to match a variety of URLs.</p> <p>A route parameter is defined with the <code>{param_name}</code> syntax. When a request is made to a matching URL, the parameter value is extracted and passed to the view as a keyword argument.</p> <p>Consider the following route:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/say/{message}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">say</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">:</span>
    res<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;You said: '</span><span class="token interpolation"><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span><span class="token string">'&quot;</span></span>
</code></pre></div><p>If a request is made to <code>/say/hello</code>, the view will be given a keyword argument <code>message</code> with the value <code>&quot;hello&quot;</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&quot;http://localhost:8000/say/hello&quot;</span>
</code></pre></div><div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status">HTTP/1.1 <span class="token property">200 OK</span></span>
<span class="token header-name keyword">date:</span> Sat, 18 May 2019 09:35:51 GMT
<span class="token header-name keyword">server:</span> uvicorn
<span class="token header-name keyword">content-type:</span> text/plain
<span class="token header-name keyword">content-length:</span> 5

You said: 'hello'
</code></pre></div><h2 id="validation-and-conversion"><a href="#validation-and-conversion" aria-hidden="true" class="header-anchor">#</a> Validation and conversion</h2> <p>Bocadillo provides a lightweight <strong>route parameter validation mechanism</strong> based on <a href="https://docs.python.org/3/library/typing.html" target="_blank" rel="noopener noreferrer">type annotations<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and the <a href="https://www.encode.io/typesystem/" target="_blank" rel="noopener noreferrer">TypeSystem<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> data validation library.</p> <p><strong>How it works</strong>: if the route parameter declared on the view has a type annotation, Bocadillo automatically converts the parameter value to that type. If it is not annotated, the value is passed as a string.</p> <p>For example:</p> <div class="language-python extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br></div><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/items/{pk}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get_item</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> pk<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
</code></pre></div><p>By annotating <code>pk</code> as an <code>int</code>, Bocadillo <em>automatically</em> converts the extracted <code>pk</code> parameter to an integer before passing it to the view. It's that simple!</p> <p>If a parameter cannot be converted, a <code>400 Bad Request</code> response is returned with an explicit error message. For example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&quot;http://localhost:8000/items/notanumber&quot;</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;400 Bad Request&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
  <span class="token property">&quot;detail&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;pk&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Must be a number.&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can also annotate parameters with a <strong>TypeSystem field</strong> directly:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> typesystem <span class="token keyword">import</span> Integer

@app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">&quot;/items/{quantity}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get_item</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> Integer<span class="token punctuation">(</span>minimum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
</code></pre></div><p>As it turns out, annotating parameters with builtins such as <code>int</code> or <code>bool</code> only works because Bocadillo provides <strong>aliases to TypeSystem fields</strong>. Here's the full list of available aliases:</p> <table><thead><tr><th>Type annotation</th> <th>TypeSystem field</th></tr></thead> <tbody><tr><td><code>int</code></td> <td><code>Integer()</code></td></tr> <tr><td><code>float</code></td> <td><code>Float()</code></td></tr> <tr><td><code>bool</code></td> <td><code>Boolean()</code></td></tr> <tr><td><code>decimal.Decimal</code></td> <td><code>Decimal()</code></td></tr> <tr><td><code>datetime.datetime</code></td> <td><code>DateTime()</code></td></tr> <tr><td><code>datetime.date</code></td> <td><code>Date()</code></td></tr> <tr><td><code>datetime.time</code></td> <td><code>Time()</code></td></tr></tbody></table> <p>See also <a href="https://www.encode.io/typesystem/fields/" target="_blank" rel="noopener noreferrer">TypeSystem fields<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for the complete list of fields and their options.</p> <h2 id="query-parameters"><a href="#query-parameters" aria-hidden="true" class="header-anchor">#</a> Query parameters</h2> <p>Similarly to route parameters, query parameters present in the URL's <a href="https://en.wikipedia.org/wiki/Query_string" target="_blank" rel="noopener noreferrer">querystring<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> can be validated and injected into the view.</p> <p>You can do so by declaring a parameter with a default value, and optionally type-annotating it:</p> <div class="language-python extra-class"><pre class="language-python"><code>ITEMS <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

@app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">&quot;/items&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get_items</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> limit<span class="token punctuation">:</span> <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res<span class="token punctuation">.</span>json <span class="token operator">=</span> ITEMS<span class="token punctuation">[</span><span class="token punctuation">:</span>limit<span class="token punctuation">]</span> <span class="token keyword">if</span> limit <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">else</span> ITEMS<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
</code></pre></div><p>Here's what the value of <code>limit</code> will be for various requested URL paths:</p> <table><thead><tr><th>Requested path</th> <th><code>limit</code></th></tr></thead> <tbody><tr><td><code>/items</code></td> <td><code>None</code></td></tr> <tr><td><code>/items?limit=5</code></td> <td><code>5</code> (the integer)</td></tr></tbody></table> <p>Validation works as expected: requesting <code>/items?limit=notanumber</code> will result in a <code>400 Bad Request</code> error response.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;400 Bad Request&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
  <span class="token property">&quot;detail&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Must be a number.&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">NOTE</p> <p>Raw query parameters can be accessed through the <a href="/guide/requests.html#query-parameters">Request object</a>.</p></div> <h2 id="wildcard-matching"><a href="#wildcard-matching" aria-hidden="true" class="header-anchor">#</a> Wildcard matching</h2> <p>Wildcard URL matching is made possible thanks the anonymous parameter <code>{}</code>. This is useful to implement routes that serve as defaults when no other routes match the requested URL path.</p> <p>For example, here's how to implement a &quot;catch-all&quot; route:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;{}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">hello</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">:</span>
    res<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">&quot;Hello, world!&quot;</span>
</code></pre></div><p>As you can see, the value of an anonymous parameter is not passed to the view. If you need access to the value, you should use a regular named route parameter.</p> <div class="warning custom-block"><p class="custom-block-title">CAVEATS</p> <ul><li><strong>Order matters</strong>. If <code>/foo/{}</code> is defined before <code>/foo/bar</code>, making a request to <code>/foo/bar</code> will match <code>/foo/{}</code>. As a rule of thumb, define wildcard routes last.</li> <li>The anonymous parameter <code>{}</code> expects a <strong>non-empty string</strong>. This means that, unlike the catch-all <code>{}</code> (which is actually a special case), the pattern <code>/{}</code> will <em>not</em> match the root URL <code>/</code> because it expects a non-empty value after the leading slash.</li> <li>Wildcard routes should not be used to implement 404 pages — Bocadillo already returns those for you.</li></ul></div> <h2 id="path-like-route-parameters"><a href="#path-like-route-parameters" aria-hidden="true" class="header-anchor">#</a> Path-like route parameters</h2> <p>If you want a route parameter to match an entire section of the URL, use the <code>:path</code> converter.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/images/{location:path}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get_image</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> location<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
</code></pre></div><p>Here, requesting <code>/images/news/header.png</code> will result in the view being given <code>location=&quot;news/header.png&quot;</code>.</p> <h2 id="redirecting"><a href="#redirecting" aria-hidden="true" class="header-anchor">#</a> Redirecting</h2> <p>Inside a view, you can redirect to another URL by raising a <code>Redirect</code> exception. The given URL can be internal (a path relative to the server's host) or external (an absolute URL).</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> bocadillo <span class="token keyword">import</span> Redirect

@app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> Redirect<span class="token punctuation">(</span><span class="token string">&quot;/home&quot;</span><span class="token punctuation">)</span>
    <span class="token comment"># or, equivalently:</span>
    <span class="token keyword">raise</span> Redirect<span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8000/home&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>Redirections are temporary (302) by default. To return a permanent (301) redirection, pass <code>permanent=True</code>:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">raise</span> Redirect<span class="token punctuation">(</span><span class="token string">&quot;/home&quot;</span><span class="token punctuation">,</span> permanent<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/bocadilloproject/bocadillo/edit/release/docs/docs/guide/routing.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/15/2019, 7:58:09 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/guide/config.html" class="prev">
          Configuration
        </a></span> <span class="next"><a href="/guide/requests.html">
          Requests
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ef5a74fe.js" defer></script><script src="/assets/js/2.741e5c13.js" defer></script><script src="/assets/js/22.60c6ec4e.js" defer></script><script src="/assets/js/81.8dfcf1f4.js" defer></script><script src="/assets/js/23.fecdc752.js" defer></script>
  </body>
</html>
